---
description: 제 3장 모든 객체의 공통 메서드
---

# 3. 모든 객체의 공통 메서드

### 아이템 10 - equals는 일반 규약을 지켜 재정의하라.

### 아이템 11 - equals를 재정의하려거든 hashCode도 재정의하라.

### 아이템 12 - toString을 항상 재정의하라.

* Object의 기본 toString 메서드가 우리가 작성한 클래스에 적합한 문자열을 반환하는 경우는 거의 없다.
* 보통 PhoneNumber@abbbd처럼 단순히 **클래스\_이름@16진수\_해시코드**를 반환할 뿐이다. 
* toString의 일반 규약에 따르면 '간결하면서 사람이 읽기 쉬운 형태의 유익한 정보'를 반환해야 한다.
* 따라서 모든 하위 클래스에서 이 메서드를 재정의해야한다. toString을 잘 구현한 클래스는 사용하기에 훨씬 좋고, 그 클래스를 사용한 시스템은 디버깅하기 쉽다.
* **toString 메서드는 객체를 println, printf, 문자열 연결 연산자\(+\), assert 구문에 넘길 때, 혹은 디버거가 객체를 출력할 때 자동으로 불린다.**
* 아래와 같이 toString을 제대로 재정의했다면 다음 코드만으로 문제를 진단하기에 충분한 메세지를 남길수 있다.

  ```java
  System.out.println(phoneNumber + "에 연결할 수 없습니다.");
  ```

* **실전에서 toString은 그 객체가 가진 주요 정보 모두를 반환하는 게 좋다.** 하지만 객체가 거대하거나, 객체의 상태가 문자열로 표현하기에 적합하지 않다면 무리가 있다. 이런 상황이라면 "맨하튼 거주자 전화번호부\(총 1000개\)" 나 "Thread\[main,5,main\]" 같은 요약 정보를 담아야 한다.
* toString을 구현할 때면 반환값의 포맷을 문서화할지 정해야한다. 이것은 아주 중요한 선택이다.
* 포맷을 명시하기로 했다면, 명시한 포맷에 맞는 문자열과 객체를 상호 전환할 수 있는 정적 팩터리나 생성자를 함께 제공해주면 좋다.

